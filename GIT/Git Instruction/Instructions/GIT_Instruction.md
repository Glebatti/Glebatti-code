Руководство по git.

Работа с gitbash.
Базовые команды для работы в gitbash:
1. Создание папки в текущей директории:
	mkdir <Ваша папка>
2. Переход в указанную директорию:
	cd <Указанная директория> или  cd <Указанная директория>/<Указанная директория>/...
3. Создание файла в текущей дериктории:
	touch <Название файла>
4. Войти в файл:
	vim <название файла>
5. Переименовать файл:
	git mv
6. Удалить файл 
	git rm
7. Для удобства запуска утилиты gitbash перейти в корень программы (меню "пуск" > ввести "git bash" > нажать перейти к расположению файла), нажать правой кнопкой мыши по ярлыку c названием "Git Bash", выбрать "Свойства", нажать левой кнопкой мыши в окне "Быстрый вызов", нажать на клавиатуре нужную комбинацию клавиш(хоткей) (по умолчанию: "Ctrl + Alt + T") и левой кнопкой мыши по полю "Применить" (при всплывании окна прав администратора - подтверждаем)

Подготовка:
1. Установка имени и электронной почты.
Для начала необходимо осуществить установку, если не выполнялась ранее. Выполнить следующие команды, чтобы git узнал имя и электронную почту.
	git config --global user.name "your_name"
	git config --global user.email "your_email@whatever.com"

2. Установка отображения unicode.
По умолчанию, git будет печатать не-ASCII символы в именах файлов в виде восьмеричных последовательностей \nnn. Чтобы избежать нечитаемых строк, установить соответствующий флаг:
	git config --global core.quotepath off

Основные команды для работы с Git.
Отслеживание и фиксация изменений.
1. Создать репозиторий с помощью команды:
	git init
2. Проверить статус репозитория:
(status — важнейшая команда, которая показывает информацию о текущем состоянии репозитория: актуальна ли информация на нём, нет ли чего-то нового, что поменялось)
	git status
3. Подготовить файлы для снимка текущего состояния (предварительно перейдя в нужную дерикторию с помощью команды cd).
Пример:
	git add <generate_report.py>
	git add <report_helper.py>
	git add <for_read_xml.py>
Если нам нужно добавить все, что находится в директории, мы можем использовать:
	git add -A
4. Убедиться, что файлы отслеживаются Git с помощью команды status.
5. Закоммитить(комментарий) файлы, повторив команду для каждого файла.
	git commit -m '<Описание изменения>'
6. Если вдруг нам нужно переделать commit message и внести туда новый коммит, написать следующую конструкцию:
	git commit --amend -m '<Новый комментарий>'
7. Просмотреть историю коммитов можно с помощью команды(отображаются также "Оригинальные" и "отмененные" коммиты отображаются в истории ветки:
	git log & (-p)-последний коммит.
8. Возвратить рабочий каталог к любому предыдущему состоянию можно с помощью команды:
	git checkout <хэш>, где ,<хэш> - левая часть набора символов, до даты коммита.
	git checkout <название ветки> - переключение между веток в git.
	git restore <имя файла>-перейти в версию файла последнего коммита.
	git diff --staged -показ изменений в файле
Вывод хэшей командой:
	git hist --all
9. Создать теги нужно для удобного переключения между версиями файлов. Аналог возврата в каталог через <хэш>. (При использовании команды git tag: тег добавляется в последний коммит)
	git checkout -m <хэш>, затем git tag <тег>(если вы вышли за пределы ветки и возникает ошибка при переключении веток , введите git reset --merge или git reset --hard HEAD) 
10. Просмотреть содержимое файла в текущей директории можно с помощью команды:
	git cat <имя файла>

Отмена проиндексированных изменений 
1. После изменения файла проиндексировать изменение с помощью:
	git add <имя файла>
2. Проверить состояние с помощью команды:
	git status
3. Если состояние показывает, что изменение было проиндексировано и готово к коммиту, то выполнить сброс буферной зоны с помощью команды:
	git reset HEAD <имя файла>

Отмена коммитов
1. После изменения файла и коммита,чтобы отменить коммит, необходимо сделать коммит,который удаляет измения, сохраненные нежелательным коммитом.
	git revert HEAD
Примечание : Так как отменися самый последний произведенный коммит, то можно использовать HEAD в качестве аргумента для отмены. Можно отменить любой произвольной коммит в истории, указав его хэш-значение.
2. Увидеть изменения можно с помощью команды:
	git hist

Удаление коммита из ветки
1. Просмотреть все коммиты с помощью команды:
	git hist
2. Отметить коммит, чтобы потом его можно было легко найти:
	git tag <тег>
3. Сбросить коммит к предшествующему тегу <тег> с помощью команды:
	git reset --hard <тег>(до которого необходимо сбросить ветку).
4. Игнорировать контроль версий файлов:
	gitignore .(внутри прописать,названия проигнорируемых файлов)
Примечание: 
Можно увидеть, что все коммиты еще находятся в репозитории, выполнив команду:
	git hist --all

Удаления тегов
1. Удалить тэг можно с помощью команды:
	git tag -d <тег>

Изменение коммитов
1. Изменить коммит можно с помощью команд:
	git add <имя файла(который закоммитили ранее)>
	git commit --amend -m <измененное описание>

Перемещение файлов в другой каталог
1. Если требуется создать каталог, предварительно перейти в нужную директорию, то использовать следущие команды:
	cd <нужная директория>
	mkdir <каталог>
2. Перенести файл с помощью команды:
	git mv <имя файла> <каталог>
Примечание:
Перемещая файлы с помощью git, мы информируем git о 2 вещах:
1. Что файл <имя файла> был удален.
2. Что файл <каталог>/<имя файла> был создан.
Оба эти факта проиндексированы и готовы к коммиту. 
Команда git status сообщает, что файл был перемещен.

Работа с каталогом Git.
1. Существует каталог, в котором хранятся все «материалы» git. Данная команда выведет каталог:
	ls -C .git
2.  Куча каталогов, имена которых состоят из 2 символов. Имена каталогов являются первыми двумя буквами хэша sha1 объекта, хранящегося в git. Просмотр базы данных объектов с помощью команды:
	ls -C .git/objects
3. Смотрим в один из каталогов с именем из 2 букв. Там содержатся файлы с именами из 38 символов. Это файлы, содержащие объекты, хранящиеся в git. Они сжаты и закодированы, поэтому просмотр их содержимого не имеет особого значения. Вывести их можно с помощью команды:
	ls -C .git/objects/<директория>
4. Просмотреть файл конфигурации, создающийся для каждого конкретного проекта (записи в этом файле будут перезаписывать записи в файле .gitconfig главного каталога) с помощью команды:
	cat .git/config
5. Найти последний коммит можно с помощью команды:
	git hist --max-count=1
6. Вывести нужный коммит, показывающий подробную информацию с помощью команд:
	git cat-file -p <хэш>
7. Вывезти нужное дерево каталогов, ссылка на который идет в коммите с помощью команды:
	git cat-file -p <хэш дерева>
8. Вывод файла по хэшу с помощью команды:
	git cat-file -p <хэш файла>

Создание локальных веток в репозитории и переключение между ними:
1. Создать ветку с помощью команды:
	git checkout -b style либо git branch <имя ветки>
2. Переключение между веток осуществляется с помощью команды:
	git checkout <имя ветки>
3. Просмотреть все ветки:
	git branch -a
4. Удалить ветку:
	git branch -d(-D если есть коммиты)
5. Соединить ветки:
	git merge <имя ветки с которой хотим соединить ветку,в которой мы сейчас находимся>

Cвязаться с GitHub
1. Ссылка на репозиторий в GitHub:
	git remote add origin <url https/ssh>
2. Отправить файлы на сервер:
	git push origin master
3. Загрузить ветку с коммитами с GitHub:
	git pull origin master
4. Скачать недостающие коммиты:
	git fetch origin
5. Соединить локальную ветку с удаленной:
	git push --set -upstream origin master
6. Подгрузить коммиты с GitHub:
	git rebase master
7. Отправить все теги на сервер:
	git push --tags

Создание чистого репозитория
1. Подключиться к удаленному серверу с помощью команды:
	ssh://<имя пользователя>@<ip сервера>:<порт>
2. Перейти по необходимому пути и создать каталог с помощью команды:
	cd <абсолютный/путь>
	mkdir<каталог>
3. Перейти в каталог и выполнить команду:
	git init --bare

Загитить нужные файлы удаленно.
1. Клонирование репозитория с удаленного сервера на локальный компьютер c помощью команды:
	git clone ssh <имя пользователя>@<ip сервера>:<порт>/<абсолютный/путь>
2. В клоннированный репозиторий добавить файлы, которые требуется загитить.
3. Закомитить файлы с помощью команд:
	git add .
	git status
	git commit <коммит>
4. Создать алиас для быстрого доступа к удаленному репозиторию(создавать и проверять алиасы следует предварительно перейдя в рабочий каталог).
	git remote add <название> ssh://<имя пользователя>@<ip сервера>:<порт>/<асболютный/путь>
5. Проверить алиас командой:
	git remote
6. Загитить файлы из локального репозитория на удаленный сервер с помощью команды:
	git push


Git в PyCharm
1. Подключить git к PyCharm:
	git remote->get from vresion control
2. Поставbть коммит:
	Ctrl+k
3. Посмотреть, кто изменял коммит:
	Annotate
4. Отменить изменения до последнего коммита:
	Rollback
5. Перенести коммиты с другой ветки на ветку master:
	Checkout and rebase onto 'Master'
6. Забрать все коммиты из другой ветки для текущей ветки:
	Merge into curent

Подключение к удаленному серверу с помощью протокола ssh.
SSH - это протокол, использующий клиент-серверную модель для процедуры проверки подлинности удаленных систем и обеспечения шифрования данных, обмен которыми происходит в рамках удаленного доступа.

По умолчанию для работы протокола используется TCP-22 порт: на нем сервер (хост) ожидает входящее подключение и, после получения команды и проведения аутентификации, организует запуск клиента, открывая выбранную пользователем оболочку.

Для создания SSH подключения клиент должен инициировать соединение с сервером, обеспечив защищенное соединение и подтвердив свой идентификатор (проверяются соответствие идентификатора с предыдущими записями, хранящимися в RSA-файле, и личные данные пользователя, необходимые для аутентификации)

1. Установить Putty...
2. Генерация SSH-ключей
	1. Открыть приложение PuTTYgen
	2. В открывшемся окне нажать кнопку generate. (Хаотичные движения мышкой по области окна программы помогут сгенерировать случайные значения в ключевой паре.
	3. После генерации ключа задать дополнительные настройки:
		— Подписать комментарий к паре ключей (в поле 'Key comment:') - удобно, чтобы отличать ключи, если вы используете несколько пар 
		— Опционально: задать для ключа пароль (в поле 'Key passphrase:' и 'Confim passphrase:'). Это обеспечит дополнительную безопасность - даже в случае краже ключа сервер будет недоступен без ввода пароля. 
		Важно! Пароль недоступен для восстановления в случае утери. 
	4. Cохранить приватный и публичный ключи в удобный репозиторий(временно) с помощью кнопок Save public key и Save private key. Назвать публичный ключ как id_rsa.pub, а приватный id_rsa.
		- Публичный ключ устанавливается на сервер, к которому нужно выполнить подключении — по аналогии с замком. 
		- Приватный ключ используется с подключающейся стороны.
3. Как подключиться к серверу с помощью Putty.
	1. Запустить Putty(pytty.exe).
	2. Настроить новую сессию: в категгории Session в поле 'Host Name (or IP address)' ввести IP-адрес удаленного сервера, или его имя. Укажите порт службы SSH вашего сервера в поле 'Port' (по умолчанию используется порт 22).
	3. В категории 'SSH' в подкатегории 'Auth' в поле 'Private key for authentication' выбрать приватный ключ, сохранённый ранее, не нажимая кнопку 'Open'.
	4. Сохранить  настройки сессии, чтобы не задавать их заново при повторных подключениях. Перейти обратно в раздел 'Session'. В поле 'Saved Session' задать новое имя для сессии и нажмите 'Save'.
	5. Нажать 'Open', чтобы подключиться к серверу.
	6. Может открыться предупреждение системы безопасности. Нажать 'Да'.
	7. Откроется командная строка. В ней ввести имя пользователя и, если потребуется, пароль.
	8. Теперь соединение с севером установлено.

Создание публичного и приватного ключа

Примечание: перейти из виртуальной машины на основную.
1. Перейти в корень через bash командой:
	cd ~
2. Создать публичный и приватный ключ с помощью встроенной команды windows:
	ssh-keygen -m PEM -t rsa -b 4096 -C "<имя пользователя@сервер>" -f ~/.ssh/id_rsa -N <пароль>
3. Проверить наличия каталога ".shh" командой:
	ls -la
4. ...